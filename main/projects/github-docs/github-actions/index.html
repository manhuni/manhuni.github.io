<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>GitHub Actions - Auto Update Footer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/assets/css/base.css" />
  <link rel="stylesheet" href="/assets/css/theme.css" />
  <link rel="stylesheet" href="/assets/css/slideshow.css" />
  <link rel="stylesheet" href="/assets/css/photoviewer.css" />
  <link rel="stylesheet" href="assets/css/github-actions.css" />
  <link rel="stylesheet" href="/main/projects/github-docs/assets/css/github-docs-nav.css" />
</head>

<body>
  <div id="header"></div>

  <main class="site-main container">
    <section class="project-hero">
      <h1>âš™ï¸ GitHub Actions - Auto Update Footer</h1>
      <p>VÃ­ dá»¥ tá»± Ä‘á»™ng cáº­p nháº­t ná»™i dung <code>footer.html</code> má»—i láº§n báº¡n push lÃªn GitHub. ChÃ¨n ngÃ y build, commit hash, commit ngÆ°á»£c láº¡i chÃ­nh branch mÃ  khÃ´ng cáº§n chá»‰nh tay.</p>
    </section>

    <section id="slideshow1" class="slideshow"></section>

    <section class="project-section">
      <h2>ğŸ¯ TÃ­nh nÄƒng chÃ­nh</h2>
      <ul class="feature-list">
        <li>âœ”ï¸ Tá»± Ä‘á»™ng chÃ¨n ngÃ y build & commit hash vÃ o <code>footer.html</code></li>
        <li>âœ”ï¸ Sá»­ dá»¥ng <strong>GitHub Actions</strong>, khÃ´ng cáº§n server bÃªn ngoÃ i</li>
        <li>âœ”ï¸ Tá»± commit & push láº¡i branch sau khi thay Ä‘á»•i</li>
      </ul>
    </section>

    <section class="project-section">
      <h2>ğŸ—‚ï¸ Cáº¥u trÃºc thÆ° má»¥c</h2>
      <pre><code>
.github/
 â””â”€â”€ workflows/
      â””â”€â”€ update-footer.yml
components/
 â””â”€â”€ footer.html
      </code></pre>
    </section>

    <section class="project-section">
      <h2>ğŸš€ HÆ°á»›ng dáº«n sá»­ dá»¥ng</h2>
      <ol>
        <li>Táº¡o file <code>components/footer.html</code> vá»›i ná»™i dung footer máº·c Ä‘á»‹nh.</li>
        <li>Táº¡o file workflow <code>.github/workflows/update-footer.yml</code> vá»›i ná»™i dung:
          <pre><code>name: Update Footer

on:
  push:
    branches:
      - main

jobs:
  update-footer:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Update footer
        run: |
          COMMIT_HASH=$(git rev-parse --short HEAD)
          DATE=$(date '+%Y-%m-%d %H:%M:%S')
          YEAR=$(date '+%Y')
          sed -i "s|<p>.*</p>|<p>Â© $YEAR Github. Last updated: $DATE â€” Commit: $COMMIT_HASH</p>|" components/footer.html

      - name: Commit & Push
        run: |
          git config user.name "github-actions[bot]"
          git config user.email "41898282+github-actions[bot]@users.noreply.github.com"
          git add components/footer.html
          git commit -m "chore: update footer [skip ci]" || echo "No changes"
          git push</code></pre>
        </li>
        <li>Push lÃªn GitHub. Láº§n push Ä‘áº§u tiÃªn Action sáº½ cháº¡y vÃ  tá»± cáº­p nháº­t file.</li>
      </ol>
    </section>

    <section class="project-section">
      <h2>ğŸ› ï¸ Xá»­ lÃ½ lá»—i thÆ°á»ng gáº·p</h2>
      <p><strong>â— Lá»—i 403:</strong> Actions khÃ´ng cÃ³ quyá»n push láº¡i branch.</p>
      <p><strong>âœ”ï¸ CÃ¡ch xá»­ lÃ½:</strong></p>
      <ul>
        <li>VÃ o <strong>Settings â†’ Actions â†’ General</strong> âœ báº­t <em>Workflow permissions â†’ Read and write permissions</em>.</li>
        <li>Báº­t thÃªm <em>Allow GitHub Actions to create and approve pull requests</em> náº¿u branch Ä‘ang báº£o vá»‡.</li>
        <li>Náº¿u váº«n lá»—i âœ Táº¡o <strong>Personal Access Token (PAT)</strong> vá»›i scope <code>repo</code>. LÆ°u trong Secrets âœ sá»­a workflow Ä‘á»ƒ dÃ¹ng token Ä‘Ã³ khi push.</li>
      </ul>
    </section>

    <section class="project-section">
      <h2>ğŸ“Œ Ghi chÃº</h2>
      <p>VÃ­ dá»¥ nÃ y phÃ¹ há»£p cho trang tÄ©nh, GitHub Pages hoáº·c báº¥t cá»© project nÃ o cáº§n ná»™i dung tá»± Ä‘á»™ng thay Ä‘á»•i theo má»—i láº§n build.</p>
    </section>
  </main>

  <div id="footer"></div>

  <script src="/assets/js/main.js"></script>
  <script src="assets/js/github-actions.js"></script>
  <script src="/assets/js/photoViewer.js"></script>
  <script src="/assets/js/slideshow.js"></script>
  <script src="assets/js/github-actions-slideshow.js"></script>
  <script src="/main/projects/github-docs/assets/js/github-docs-nav.js"></script>
</body>

</html>
